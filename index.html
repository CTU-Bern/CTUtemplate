<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Example RStudio Project Templates • CTUtemplate</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Example RStudio Project Templates">
<meta property="og:description" content="Templates and functions for use in CTU Bern.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">CTUtemplate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="ctutemplate-">
<code>CTUtemplate</code> <img src="reference/figures/sticker.png" align="right" width="200"><a class="anchor" aria-label="anchor" href="#ctutemplate-"></a>
</h1></div>
<p><a href="https://github.com/CTU-Bern/CTUtemplate" class="external-link"><img src="https://img.shields.io/badge/dev%20version-0.6.4-blue.svg"></a></p>
<p><code>CTUtemplate</code> is a package to create a template directory structure (and files) and also includes the CTUs annual safety report function.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>CTUtemplate</code> is easiest to install via</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'CTUtemplate'</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://ctu-bern.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Linux users might have to install from source:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"CTU-Bern/CTUtemplate"</span><span class="op">)</span></span></code></pre></div>
<p>This may require <code>Sys.setenv(R_REMOTES_NO_ERRORS_FROM_WARNINGS="true")</code> if packages were built under a different R version to the one you are using.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">CTUtemplate</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="template-director-structure">Template director structure<a class="anchor" aria-label="anchor" href="#template-director-structure"></a>
</h3>
<p>Once installed, in RStudio, open a “new project in a new directory” and select “CTU project template”. Options in the following window are used to create the folders and headers of R (and STATA) files.</p>
<p><em>Note:</em> <code>Directory name</code> would typically be e.g. <code>06_Analysis_xx_yy</code>, and <code>Create project as a subdirectory of</code> would be the <code>21_Statistics_yy</code> folder of the appropriate project (<code>yy</code> should be the same in both cases).</p>
<p><em>IMPORTANT:</em> <code>Directory name</code> should not already exist as a subdirectory of <code>21_Statistics_yy</code>. Please delete (or rename) the existing folder.</p>
</div>
<div class="section level3">
<h3 id="template-randomisation-list-code">Template randomisation list code<a class="anchor" aria-label="anchor" href="#template-randomisation-list-code"></a>
</h3>
<p>When using RStudio it’s possible to open template code for generating and reporting on randomisation lists. Click the Addins menu at the top of the RStudio menu and select “Template rando code” (Addins are sorted by package).</p>
<p><img src="reference/figures/addins.png"></p>
<p>There is also an addin to insert a header at the top of an open script (“Add CTU header”).</p>
</div>
<div class="section level3">
<h3 id="quarto-report-templates">Quarto report templates<a class="anchor" aria-label="anchor" href="#quarto-report-templates"></a>
</h3>
<p>We now also have some quarto report templates (more still to come, perhaps). At least RStudio v2022.01.1+554 is required for working with them.</p>
<p>Functions in <code>CTUtemplate</code> allow accessing the templates directly from R:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for a generic report</span></span>
<span><span class="fu"><a href="reference/use_qmd.html">use_qmd_html</a></span><span class="op">(</span><span class="st">"folder"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for a template recruitment report</span></span>
<span><span class="fu"><a href="reference/use_qmd.html">use_qmd_htmlrecruitment</a></span><span class="op">(</span><span class="st">"folder"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for a template sample size report</span></span>
<span><span class="fu"><a href="reference/use_qmd.html">use_qmd_htmlsampsi</a></span><span class="op">(</span><span class="st">"folder"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for a revealjs presentation</span></span>
<span><span class="fu"><a href="reference/use_qmd.html">use_qmd_pres</a></span><span class="op">(</span><span class="st">"folder"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># for typst report, which renders to PDF</span></span>
<span><span class="fu"><a href="reference/use_qmd.html">use_qmd_typst</a></span><span class="op">(</span><span class="st">"folder"</span><span class="op">)</span></span></code></pre></div>
<p>The above functions will download the templates and other necessary files and (optionally) open the <code>qmd</code> file for you. You should specify the location to save the files</p>
<p>See also the <a href="https://github.com/CTU-Bern/quarto" class="external-link">quarto template repo</a> for more info on our quarto templates.</p>
<p>See the <a href="https://quarto.org/docs/guide/" class="external-link">quarto guide</a> for loads of info.</p>
</div>
<div class="section level3">
<h3 id="latex-report-templates">LaTeX Report templates<a class="anchor" aria-label="anchor" href="#latex-report-templates"></a>
</h3>
<p><code>CTUtemplate</code> has an Rmd template for sample size reports and a more generic template with some examples of how to do things.</p>
<table class="table">
<colgroup>
<col width="25%">
<col width="74%">
</colgroup>
<thead><tr class="header">
<th align="left">Function</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>use_report_template</code></td>
<td align="left">Opens a generic file with various examples</td>
</tr>
<tr class="even">
<td align="left"><code>use_ssreport_template</code></td>
<td align="left">Opens a template for a sample size report</td>
</tr>
<tr class="odd">
<td align="left"><code>use_recreport_template</code></td>
<td align="left">Opens a template for a recruitment report</td>
</tr>
<tr class="even">
<td align="left"><code>use_param_report_template</code></td>
<td align="left">Opens template files for using parameterized reports</td>
</tr>
<tr class="odd">
<td align="left"><code>use_ub_tex_template</code></td>
<td align="left">Opens the UNIBE tex template allowing modifications for additional features of latex</td>
</tr>
</tbody>
</table>
<p>The functions are used to open a new template in the location designated (the recommended location would probably be <code>08_Reports_projnum</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># for a sample size report</span></span>
<span><span class="fu"><a href="reference/use_ssreport_template.html">use_ssreport_template</a></span><span class="op">(</span><span class="st">"folder/ssreport.Rmd"</span><span class="op">)</span></span>
<span><span class="co"># for the examples</span></span>
<span><span class="fu"><a href="reference/use_report_template.html">use_report_template</a></span><span class="op">(</span><span class="st">"folder/report.Rmd"</span><span class="op">)</span></span>
<span><span class="co"># for a template recruitment report</span></span>
<span><span class="fu"><a href="reference/use_recreport_template.html">use_recreport_template</a></span><span class="op">(</span><span class="st">"folder/recreport.Rmd"</span><span class="op">)</span></span>
<span><span class="co"># for an example of a parameterized report (note the lack of file extension here)</span></span>
<span><span class="fu"><a href="reference/use_param_report_template.html">use_param_report_template</a></span><span class="op">(</span><span class="st">"folder/param_report"</span><span class="op">)</span></span></code></pre></div>
<p>The top of the header defines the location that the PDF is saved, relative to the Rmd. The <code>xx</code> in <code>08_Reports_xx</code> should be changed to the project number. <code>ReportName</code> on the following line could be changed to something else.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>knit<span class="sc">:</span> (<span class="cf">function</span>(inputFile, encoding) { </span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>      rmarkdown<span class="sc">::</span><span class="fu">render</span>(inputFile,</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>                        <span class="at">encoding=</span>encoding, </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>                        <span class="at">output_file=</span><span class="fu">file.path</span>(<span class="fu">dirname</span>(inputFile), </span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>                                              <span class="st">'../08_Reports_xx'</span>, </span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>                                              <span class="fu">paste0</span>(<span class="st">"ReportName_"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>                                                     <span class="fu">Sys.Date</span>(),</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>                                                     <span class="st">".pdf"</span>))) })</span></code></pre></div>
<p>The templates for sample size calculations and recruitment reports refer to <code>ProjectName</code>. This should also be changed to something more meaningful.</p>
<p>If modifications to the latex template are desired, it can be copied to the folder via</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/use_ub_tex_template.html">use_ub_tex_template</a></span><span class="op">(</span><span class="st">"folder/report.tex"</span><span class="op">)</span></span></code></pre></div>
<p>The YAML header in the Rmd file then needs to be changed to include</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>output<span class="sc">:</span> </span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  CTUtemplate<span class="sc">::</span>report_pdf<span class="sc">:</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>    report_template<span class="sc">:</span> <span class="st">"report.tex"</span></span></code></pre></div>
<p>Using this approach, other latex packages can be used to extend the capabilities of latex.</p>
</div>
<div class="section level3">
<h3 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h3>
<p>The package logo was created with <a href="https://ggplot2.tidyverse.org/" class="external-link"><code>ggplot2</code></a> and <a href="https://github.com/GuangchuangYu/hexSticker" class="external-link"><code>hexSticker</code></a> with icons from <a href="https://fontawesome.com/" class="external-link">Font Awesome</a> (via the <a href="https://github.com/GuangchuangYu/emojifont" class="external-link">emojifont package</a>).</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CTUtemplate</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alan G. Haynes <br><small class="roles"> Maintainer </small>   </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Alan G. Haynes.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
